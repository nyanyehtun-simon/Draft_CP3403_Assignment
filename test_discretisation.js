var data = [
    {
        "age": 30,
        "job": "unemployed",
        "marital": "married",
        "education": "primary",
        "default": "no",
        "balance": 1787,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 19,
        "month": "oct",
        "duration": 79,
        "campaign": 1,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 33,
        "job": "services",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 4789,
        "housing": "yes",
        "loan": "yes",
        "contact": "cellular",
        "day": 11,
        "month": "may",
        "duration": 220,
        "campaign": 1,
        "pdays": 339,
        "previous": 4,
        "poutcome": "failure",
        "y": "no"
    },
    {
        "age": 35,
        "job": "management",
        "marital": "single",
        "education": "tertiary",
        "default": "no",
        "balance": 1350,
        "housing": "yes",
        "loan": "no",
        "contact": "cellular",
        "day": 16,
        "month": "apr",
        "duration": 185,
        "campaign": 1,
        "pdays": 330,
        "previous": 1,
        "poutcome": "failure",
        "y": "no"
    },
    {
        "age": 30,
        "job": "management",
        "marital": "married",
        "education": "tertiary",
        "default": "no",
        "balance": 1476,
        "housing": "yes",
        "loan": "yes",
        "contact": "unknown",
        "day": 3,
        "month": "jun",
        "duration": 199,
        "campaign": 4,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 59,
        "job": "blue-collar",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 0,
        "housing": "yes",
        "loan": "no",
        "contact": "unknown",
        "day": 5,
        "month": "may",
        "duration": 226,
        "campaign": 1,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 35,
        "job": "management",
        "marital": "single",
        "education": "tertiary",
        "default": "no",
        "balance": 747,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 23,
        "month": "feb",
        "duration": 141,
        "campaign": 2,
        "pdays": 176,
        "previous": 3,
        "poutcome": "failure",
        "y": "no"
    },
    {
        "age": 36,
        "job": "self-employed",
        "marital": "married",
        "education": "tertiary",
        "default": "no",
        "balance": 307,
        "housing": "yes",
        "loan": "no",
        "contact": "cellular",
        "day": 14,
        "month": "may",
        "duration": 341,
        "campaign": 1,
        "pdays": 330,
        "previous": 2,
        "poutcome": "other",
        "y": "no"
    },
    {
        "age": 39,
        "job": "technician",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 147,
        "housing": "yes",
        "loan": "no",
        "contact": "cellular",
        "day": 6,
        "month": "may",
        "duration": 151,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 41,
        "job": "entrepreneur",
        "marital": "married",
        "education": "tertiary",
        "default": "no",
        "balance": 221,
        "housing": "yes",
        "loan": "no",
        "contact": "unknown",
        "day": 14,
        "month": "may",
        "duration": 57,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 43,
        "job": "services",
        "marital": "married",
        "education": "primary",
        "default": "no",
        "balance": -88,
        "housing": "yes",
        "loan": "yes",
        "contact": "cellular",
        "day": 17,
        "month": "apr",
        "duration": 313,
        "campaign": 1,
        "pdays": 147,
        "previous": 2,
        "poutcome": "failure",
        "y": "no"
    },
    {
        "age": 39,
        "job": "services",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 9374,
        "housing": "yes",
        "loan": "no",
        "contact": "unknown",
        "day": 20,
        "month": "may",
        "duration": 273,
        "campaign": 1,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 43,
        "job": "admin.",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 264,
        "housing": "yes",
        "loan": "no",
        "contact": "cellular",
        "day": 17,
        "month": "apr",
        "duration": 113,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 36,
        "job": "technician",
        "marital": "married",
        "education": "tertiary",
        "default": "no",
        "balance": 1109,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 13,
        "month": "aug",
        "duration": 328,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 20,
        "job": "student",
        "marital": "single",
        "education": "secondary",
        "default": "no",
        "balance": 502,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 30,
        "month": "apr",
        "duration": 261,
        "campaign": 1,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "yes"
    },
    {
        "age": 31,
        "job": "blue-collar",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 360,
        "housing": "yes",
        "loan": "yes",
        "contact": "cellular",
        "day": 29,
        "month": "jan",
        "duration": 89,
        "campaign": 1,
        "pdays": 241,
        "previous": 1,
        "poutcome": "failure",
        "y": "no"
    },
    {
        "age": 40,
        "job": "management",
        "marital": "married",
        "education": "tertiary",
        "default": "no",
        "balance": 194,
        "housing": "no",
        "loan": "yes",
        "contact": "cellular",
        "day": 29,
        "month": "aug",
        "duration": 189,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 56,
        "job": "technician",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 4073,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 27,
        "month": "aug",
        "duration": 239,
        "campaign": 5,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 37,
        "job": "admin.",
        "marital": "single",
        "education": "tertiary",
        "default": "no",
        "balance": 2317,
        "housing": "yes",
        "loan": "no",
        "contact": "cellular",
        "day": 20,
        "month": "apr",
        "duration": 114,
        "campaign": 1,
        "pdays": 152,
        "previous": 2,
        "poutcome": "failure",
        "y": "no"
    },
    {
        "age": 25,
        "job": "blue-collar",
        "marital": "single",
        "education": "primary",
        "default": "no",
        "balance": -221,
        "housing": "yes",
        "loan": "no",
        "contact": "unknown",
        "day": 23,
        "month": "may",
        "duration": 250,
        "campaign": 1,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 31,
        "job": "services",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 132,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 7,
        "month": "jul",
        "duration": 148,
        "campaign": 1,
        "pdays": 152,
        "previous": 1,
        "poutcome": "other",
        "y": "no"
    },
    {
        "age": 38,
        "job": "management",
        "marital": "divorced",
        "education": "unknown",
        "default": "no",
        "balance": 0,
        "housing": "yes",
        "loan": "no",
        "contact": "cellular",
        "day": 18,
        "month": "nov",
        "duration": 96,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 42,
        "job": "management",
        "marital": "divorced",
        "education": "tertiary",
        "default": "no",
        "balance": 16,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 19,
        "month": "nov",
        "duration": 140,
        "campaign": 3,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 44,
        "job": "services",
        "marital": "single",
        "education": "secondary",
        "default": "no",
        "balance": 106,
        "housing": "no",
        "loan": "no",
        "contact": "unknown",
        "day": 12,
        "month": "jun",
        "duration": 109,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 44,
        "job": "entrepreneur",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 93,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 7,
        "month": "jul",
        "duration": 125,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 26,
        "job": "housemaid",
        "marital": "married",
        "education": "tertiary",
        "default": "no",
        "balance": 543,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 30,
        "month": "jan",
        "duration": 169,
        "campaign": 3,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 41,
        "job": "management",
        "marital": "married",
        "education": "tertiary",
        "default": "no",
        "balance": 5883,
        "housing": "no",
        "loan": "no",
        "contact": "cellular",
        "day": 20,
        "month": "nov",
        "duration": 182,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 55,
        "job": "blue-collar",
        "marital": "married",
        "education": "primary",
        "default": "no",
        "balance": 627,
        "housing": "yes",
        "loan": "no",
        "contact": "unknown",
        "day": 5,
        "month": "may",
        "duration": 247,
        "campaign": 1,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    },
    {
        "age": 67,
        "job": "retired",
        "marital": "married",
        "education": "unknown",
        "default": "no",
        "balance": 696,
        "housing": "no",
        "loan": "no",
        "contact": "telephone",
        "day": 17,
        "month": "aug",
        "duration": 119,
        "campaign": 1,
        "pdays": 105,
        "previous": 2,
        "poutcome": "failure",
        "y": "no"
    },
    {
        "age": 56,
        "job": "self-employed",
        "marital": "married",
        "education": "secondary",
        "default": "no",
        "balance": 784,
        "housing": "no",
        "loan": "yes",
        "contact": "cellular",
        "day": 30,
        "month": "jul",
        "duration": 149,
        "campaign": 2,
        "pdays": -1,
        "previous": 0,
        "poutcome": "unknown",
        "y": "no"
    }
];

var numBin = 3;

//Get keys of the data:
var keyList = Object.keys(data[1]);
var keyListNumeric = [];

keyList.forEach((key) => {
    data.forEach((object => {
        if ((typeof parseInt(object[key])) == "number") {
            keyListNumeric.push(key);
        }
    }));
});

//This is for removing duplications:
keyListNumeric = [...new Set(keyListNumeric)];

var bin = [];

//Start discretisation:
var numList = [];
var numListMax = 0;
var numListMin = 0;
var numListRange  = 0;
var binSize = 0;
var n = 0;
var i;
var oldValue  = 0;

keyListNumeric.forEach((key) => {
    console.log("\nCurrent key: "+ key);
    numList = [];
    //for example: key is now age:
    data.forEach((object => {
        numList.push(object[key]);
    }));
    console.log(numList);
    //Example: numList = [0,1,2,2,4,4,4,4,5,6,6,6,7,8,];
    numListMax = Math.max(...numList);
    console.log("Max: " + numListMax);

    numListMin = Math.min(...numList);
    console.log("Min: " + numListMin);

    numListRange = numListMax - numListMin;
    if (numListMax < 0 && numListMin < 0){
        numListRange = Math.abs(numListMin) - Math.abs(numListMax);
    }
    if (numListMax > 0 && numListMin > 0){
        numListRange = numListMax - numListMin;
    }
    if (numListMax >= 0 && numListMin < 0){
        numListRange = numListMax + Math.abs(numListMin);
    }

    console.log("numListRange: " + numListMin);

    binSize = numListRange / numBin;
    console.log("binSize: " + numListMin);

    console.log("Prepare for for:");
    for (i = numListMin; i <= numListMax; i += binSize) {
        n = 0;
        data.forEach((object => {
            if (object[key] == numListMax){
                oldValue = object[key];
                data[n][key] = "From " + (numListMax - binSize) + " to " + numListMax;
                console.log(oldValue + " goes to " + object[key]);
            } else if ( object[key] == numListMin ){
                oldValue = object[key];
                data[n][key] = "From " + (numListMin) + " to " + (numListMin + binSize);
                console.log(oldValue + " goes to " + object[key]);
            } else if (object[key] >= i && object[key] < (i+binSize)){
                oldValue = object[key];
                //object[key] = "From " + i + " to " + (i+binSize);
                data[n][key]= "From " + i + " to " + (i+binSize);
                console.log(oldValue + " goes to " + object[key]);
            }
            n++;
        }));
    }
});

console.log("Transformed data: " + data);

var isThereNumericInside = function (data) {
    var keyList = Object.keys(data[1]);
    var keyListNumeric = [];
    var toReturn = null;

    keyList.forEach((key) => {
        data.forEach((object => {
            if ((typeof object[key]) == "number") {
                keyListNumeric.push(key);
            }
        }));
    });
    if (keyListNumeric != []){
        toReturn = true;
    } else {
        toReturn = false;
    }
    return toReturn;
};